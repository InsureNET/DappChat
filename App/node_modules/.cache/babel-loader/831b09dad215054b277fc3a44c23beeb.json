{"ast":null,"code":"var _jsxFileName = \"/Users/tristan/Documents/blockchain/Real Twittor/App/src/MyComponent.js\";\nimport React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ContractData, ContractForm } from 'drizzle-react-components';\nimport TweetForm from './TweetForm';\nimport SingleTweet from './SingleTweet';\nimport { Drizzle } from 'drizzle';\nimport options from './drizzleOptions';\nimport { DrizzleContext } from \"drizzle-react\"; // const drizzle = new Drizzle(options);\n\nexport default class tweets extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      this.setState({\n        tweet: event.target.value,\n        hashT: this.findHashTag(event.target.value)\n      });\n      console.log(this.state);\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n    };\n\n    this.state = {\n      userAddress: '',\n      tweet: \"\",\n      hashT: \"\"\n    };\n  }\n\n  async componentDidMount() {\n    // console.log(\"drizzle \", drizzle)\n    const accounts = await this.props.drizzle.web3.eth.getAccounts();\n    this.setState({\n      userAddress: accounts[0]\n    });\n  }\n\n  render() {\n    let length = 0;\n    const getNumTweetsFirstKey = Object.keys(this.props.drizzleState.contracts.Twittor.getNumTweets)[1];\n\n    if (this.props.drizzleState.contracts.Twittor.getNumTweets[getNumTweetsFirstKey]) {\n      length = this.props.drizzleState.contracts.Twittor.getNumTweets[getNumTweetsFirstKey].value;\n    }\n\n    let mapArray = [];\n\n    if (length) {\n      mapArray.length = length;\n      mapArray.fill(1);\n    }\n\n    console.log(\"props\", this.props);\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"TWEETS\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      key: \"tweet\",\n      name: \"tweet\",\n      value: this.state.tweet,\n      placeholder: \"tweet\",\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"TWEET\")), React.createElement(\"div\", {\n      className: \"allTweets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, mapArray.map((tweet, idx) => {\n      return React.createElement(SingleTweet, {\n        address: this.state.userAddress,\n        index: idx,\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    }).reverse()), React.createElement(\"div\", {\n      className: \"hide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/tristan/Documents/blockchain/Real Twittor/App/src/MyComponent.js"],"names":["React","ToastContainer","ContractData","ContractForm","TweetForm","SingleTweet","Drizzle","options","DrizzleContext","tweets","Component","constructor","props","handleInputChange","event","setState","tweet","target","value","hashT","findHashTag","console","log","state","handleSubmit","preventDefault","userAddress","componentDidMount","accounts","drizzle","web3","eth","getAccounts","render","length","getNumTweetsFirstKey","Object","keys","drizzleState","contracts","Twittor","getNumTweets","mapArray","fill","map","idx","reverse"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ContractData, ContractForm} from 'drizzle-react-components';\nimport TweetForm from './TweetForm';\nimport SingleTweet from './SingleTweet';\nimport { Drizzle } from 'drizzle';\nimport options from './drizzleOptions';\nimport { DrizzleContext } from \"drizzle-react\";\n\n// const drizzle = new Drizzle(options);\nexport default class tweets extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { userAddress: '',\n    tweet: \"\",\n    hashT: \"\",\n  };\n  }\n  async componentDidMount() {\n    // console.log(\"drizzle \", drizzle)\n    const accounts = await this.props.drizzle.web3.eth.getAccounts();\n    this.setState({ userAddress: accounts[0] });\n  }\n\n  handleInputChange = (event) => {\n    this.setState({\n      tweet: event.target.value,\n      hashT: this.findHashTag(event.target.value),\n    });\n    console.log(this.state);\n  }\n\n  handleSubmit = (event) => {\n  event.preventDefault();\n  }\n\n  render() {\n    let length = 0;\n    const getNumTweetsFirstKey = Object.keys(\n      this.props.drizzleState.contracts.Twittor.getNumTweets\n    )[1];\n    if (this.props.drizzleState.contracts.Twittor.getNumTweets[getNumTweetsFirstKey]) {\n      length = this.props.drizzleState.contracts.Twittor.getNumTweets[getNumTweetsFirstKey].value;\n    }\n    let mapArray = [];\n    if (length) {\n      mapArray.length = length;\n      mapArray.fill(1);\n    }\n\n    console.log(\"props\", this.props)\n\n    return (\n      <div className=\"App\">\n        <ToastContainer />\n\n        <div>\n          <h1>TWEETS</h1>\n          <form onSubmit = {this.handleSubmit}>\n          <input\n              key=\"tweet\"\n              name=\"tweet\"\n              value={this.state.tweet}\n              placeholder=\"tweet\"\n              onChange={this.handleInputChange}\n            />\n            <button type=\"submit\">TWEET</button>\n          </form>\n          {/* <TweetForm contract=\"Twittor\" method=\"addTweetStruct\" store = {this.props.drizzle}/> */}\n          <div className=\"allTweets\">\n            {mapArray\n              .map((tweet, idx) => {\n                return (\n                  <SingleTweet\n                    address={this.state.userAddress}\n                    index={idx}\n                    key={idx}\n                  />\n                );\n              })\n              .reverse()}\n          </div>\n          <div className=\"hide\">\n            {/* {\n              <ContractData\n                contract=\"Twittor\"\n                method=\"getNumTweets\"\n                methodArgs={[this.state.userAddress]}\n              />\n            } */}\n          </div>\n\n          {/* (\n  <DrizzleContext.Consumer>\n    {drizzleContext => {\n      const { drizzle, drizzleState, initialized } = drizzleContext;\n  \n      if (!initialized) {\n        return \"Loading...\";\n      }\n\n      return (\n      <div>\n      <TweetForm drizzle = {drizzle} drizzleState = {drizzleState} />\n      </div>\n\n      );\n    }}\n  </DrizzleContext.Consumer>\n) */}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}